<!DOCTYPE html>
<html>
<head>
    <title>‡§∏‡§∞‡•ç‡§ö ‡§ï‡§ø‡§è ‡§ó‡§è ‡§∂‡§¨‡•ç‡§¶ ‡§ï‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ü ‡§µ‡•ç‡§Ø‡•Ç</title>
    <style>
        /* ... (‡§™‡•Å‡§∞‡§æ‡§®‡§æ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤) ... */
        .live-query-display {
            background-color: #ffe0b2; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä */
            color: #e65100; /* ‡§ó‡§π‡§∞‡§æ ‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä */
            padding: 15px;
            margin: 20px auto;
            width: 90%;
            border-radius: 8px;
            font-size: 1.3em;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <h1>üñ•Ô∏è Iframe ‡§ï‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ü ‡§µ‡•ç‡§Ø‡•Ç</h1>
    
    <div class="live-query-display">
        ‡§ï‡§∞‡•á‡§Ç‡§ü ‡§∏‡§∞‡•ç‡§ö ‡§ï‡•ç‡§µ‡•á‡§∞‡•Ä: <span id="currentQuery">‡§ï‡•ã‡§à ‡§ñ‡•ã‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§ï‡•Ä ‡§ó‡§à‡•§</span>
    </div>

    <iframe 
      id="liveViewerFrame" 
      src="./x.html" 
      frameborder="0" 
      allowfullscreen>
      <p>‡§Ü‡§™‡§ï‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ Iframes ‡§ï‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</p>
    </iframe>

    <script>
        const iframe = document.getElementById('liveViewerFrame');
        const queryDisplay = document.getElementById('currentQuery');

        function updateLiveQuery() {
            try {
                // Iframe ‡§ï‡•á URL ‡§ï‡•ã ‡§™‡§ï‡§°‡§º‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç
                const iframeSrc = iframe.contentWindow.location.href;
                
                // ‡§Ö‡§ó‡§∞ Iframe ‡§ï‡§æ URL, ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§™‡•á‡§ú ‡§ï‡•á ‡§°‡•ã‡§Æ‡•á‡§® ‡§∏‡•á ‡§Ö‡§≤‡§ó ‡§π‡•à (‡§ú‡•ã ‡§ï‡§ø Google CSE ‡§ï‡•á ‡§∏‡§æ‡§• ‡§π‡•ã‡§ó‡§æ), 
                // ‡§§‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡§æ‡§∞‡§£‡•ã‡§Ç ‡§∏‡•á ‡§Ø‡§π ‡§´‡§º‡•á‡§≤ ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡§æ‡•§

                // ‡§≤‡•á‡§ï‡§ø‡§®, ‡§Ö‡§ó‡§∞ Iframe ‡§Æ‡•á‡§Ç hash (#) ‡§¨‡§¶‡§≤‡§§‡§æ ‡§π‡•à, ‡§§‡•ã ‡§π‡§Æ hash ‡§∏‡•á ‡§ï‡•ç‡§µ‡•á‡§∞‡•Ä ‡§™‡§¢‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
                const hash = iframe.contentWindow.location.hash;
                
                if (hash.startsWith('#gsc.tab=0&gsc.q=')) {
                    // hash ‡§∏‡•á ‡§∏‡§ø‡§∞‡•ç‡§´‡§º 'q' (‡§ï‡•ç‡§µ‡•á‡§∞‡•Ä) ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç
                    const urlParams = new URLSearchParams(hash.substring(1));
                    let query = urlParams.get('gsc.q');
                    
                    if (query) {
                        // ‡§Ø‡§π‡§æ‡§Å ‡§µ‡§π ‡§¨‡§¶‡§≤‡§æ‡§µ/‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§ï‡•ã‡§° ‡§≤‡§ó‡§æ‡§è‡§Å ‡§ú‡•ã ‡§Ü‡§™ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç
                        // ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è: 'land' ‡§ï‡•ã 'lund' ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§®‡§æ
                        if (query.toLowerCase() === 'land') {
                            query = 'lund'; // ‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§®‡§ö‡§æ‡§π‡§æ ‡§¨‡§¶‡§≤‡§æ‡§µ
                        }
                        
                        queryDisplay.textContent = decodeURIComponent(query);
                    }
                } else {
                    queryDisplay.textContent = '‡§ï‡•ã‡§à ‡§ñ‡•ã‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§ï‡•Ä ‡§ó‡§à‡•§';
                }

            } catch (e) {
                // Same-Origin Policy ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§Ø‡§π‡§æ‡§Å Error ‡§Ü ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§
                // ‡§π‡§Æ ‡§π‡§∞ 500ms ‡§Æ‡•á‡§Ç URL ‡§ö‡•á‡§ï ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á‡§Ç‡§ó‡•á‡•§
            }
        }

        // ‡§π‡§∞ 500ms ‡§Æ‡•á‡§Ç Iframe ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç
        setInterval(updateLiveQuery, 500);
    </script>
</body>
</html>
